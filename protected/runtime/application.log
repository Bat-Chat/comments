2015/01/23 18:59:37 [error] [exception.CDbException] exception 'CDbException' with message 'CDbConnection failed to open the DB connection: could not find driver' in /var/www/yii-1.1.16.bca042/framework/db/CDbConnection.php:399
Stack trace:
#0 /var/www/yii-1.1.16.bca042/framework/db/CDbConnection.php(347): CDbConnection->open()
#1 /var/www/yii-1.1.16.bca042/framework/db/CDbConnection.php(325): CDbConnection->setActive(true)
#2 /var/www/yii-1.1.16.bca042/framework/base/CModule.php(394): CDbConnection->init()
#3 /var/www/yii-1.1.16.bca042/framework/cli/commands/MigrateCommand.php(472): CModule->getComponent('db')
#4 /var/www/yii-1.1.16.bca042/framework/cli/commands/MigrateCommand.php(481): MigrateCommand->getDbConnection()
#5 /var/www/yii-1.1.16.bca042/framework/cli/commands/MigrateCommand.php(512): MigrateCommand->getMigrationHistory(-1)
#6 /var/www/yii-1.1.16.bca042/framework/cli/commands/MigrateCommand.php(84): MigrateCommand->getNewMigrations()
#7 [internal function]: MigrateCommand->actionUp(Array)
#8 /var/www/yii-1.1.16.bca042/framework/console/CConsoleCommand.php(172): ReflectionMethod->invokeArgs(Object(MigrateCommand), Array)
#9 /var/www/yii-1.1.16.bca042/framework/console/CConsoleCommandRunner.php(71): CConsoleCommand->run(Array)
#10 /var/www/yii-1.1.16.bca042/framework/console/CConsoleApplication.php(92): CConsoleCommandRunner->run(Array)
#11 /var/www/yii-1.1.16.bca042/framework/base/CApplication.php(184): CConsoleApplication->processRequest()
#12 /var/www/yii-1.1.16.bca042/framework/yiic.php(33): CApplication->run()
#13 /var/www/comments/protected/yiic.php(7): require_once('/var/www/yii-1....')
#14 /var/www/comments/protected/yiic(4): require_once('/var/www/commen...')
#15 {main}
---
2015/01/23 19:03:22 [error] [exception.CDbException] exception 'CDbException' with message 'CDbConnection failed to open the DB connection: SQLSTATE[28000] [1045] Access denied for user 'root'@'localhost' (using password: NO)' in /var/www/yii-1.1.16.bca042/framework/db/CDbConnection.php:399
Stack trace:
#0 /var/www/yii-1.1.16.bca042/framework/db/CDbConnection.php(347): CDbConnection->open()
#1 /var/www/yii-1.1.16.bca042/framework/db/CDbConnection.php(325): CDbConnection->setActive(true)
#2 /var/www/yii-1.1.16.bca042/framework/base/CModule.php(394): CDbConnection->init()
#3 /var/www/yii-1.1.16.bca042/framework/cli/commands/MigrateCommand.php(472): CModule->getComponent('db')
#4 /var/www/yii-1.1.16.bca042/framework/cli/commands/MigrateCommand.php(481): MigrateCommand->getDbConnection()
#5 /var/www/yii-1.1.16.bca042/framework/cli/commands/MigrateCommand.php(512): MigrateCommand->getMigrationHistory(-1)
#6 /var/www/yii-1.1.16.bca042/framework/cli/commands/MigrateCommand.php(84): MigrateCommand->getNewMigrations()
#7 [internal function]: MigrateCommand->actionUp(Array)
#8 /var/www/yii-1.1.16.bca042/framework/console/CConsoleCommand.php(172): ReflectionMethod->invokeArgs(Object(MigrateCommand), Array)
#9 /var/www/yii-1.1.16.bca042/framework/console/CConsoleCommandRunner.php(71): CConsoleCommand->run(Array)
#10 /var/www/yii-1.1.16.bca042/framework/console/CConsoleApplication.php(92): CConsoleCommandRunner->run(Array)
#11 /var/www/yii-1.1.16.bca042/framework/base/CApplication.php(184): CConsoleApplication->processRequest()
#12 /var/www/yii-1.1.16.bca042/framework/yiic.php(33): CApplication->run()
#13 /var/www/comments/protected/yiic.php(7): require_once('/var/www/yii-1....')
#14 /var/www/comments/protected/yiic(4): require_once('/var/www/commen...')
#15 {main}
---
2015/01/23 19:03:25 [error] [exception.CDbException] exception 'CDbException' with message 'CDbConnection failed to open the DB connection: SQLSTATE[28000] [1045] Access denied for user 'root'@'localhost' (using password: NO)' in /var/www/yii-1.1.16.bca042/framework/db/CDbConnection.php:399
Stack trace:
#0 /var/www/yii-1.1.16.bca042/framework/db/CDbConnection.php(347): CDbConnection->open()
#1 /var/www/yii-1.1.16.bca042/framework/db/CDbConnection.php(325): CDbConnection->setActive(true)
#2 /var/www/yii-1.1.16.bca042/framework/base/CModule.php(394): CDbConnection->init()
#3 /var/www/yii-1.1.16.bca042/framework/cli/commands/MigrateCommand.php(472): CModule->getComponent('db')
#4 /var/www/yii-1.1.16.bca042/framework/cli/commands/MigrateCommand.php(481): MigrateCommand->getDbConnection()
#5 /var/www/yii-1.1.16.bca042/framework/cli/commands/MigrateCommand.php(512): MigrateCommand->getMigrationHistory(-1)
#6 /var/www/yii-1.1.16.bca042/framework/cli/commands/MigrateCommand.php(84): MigrateCommand->getNewMigrations()
#7 [internal function]: MigrateCommand->actionUp(Array)
#8 /var/www/yii-1.1.16.bca042/framework/console/CConsoleCommand.php(172): ReflectionMethod->invokeArgs(Object(MigrateCommand), Array)
#9 /var/www/yii-1.1.16.bca042/framework/console/CConsoleCommandRunner.php(71): CConsoleCommand->run(Array)
#10 /var/www/yii-1.1.16.bca042/framework/console/CConsoleApplication.php(92): CConsoleCommandRunner->run(Array)
#11 /var/www/yii-1.1.16.bca042/framework/base/CApplication.php(184): CConsoleApplication->processRequest()
#12 /var/www/yii-1.1.16.bca042/framework/yiic.php(33): CApplication->run()
#13 /var/www/comments/protected/yiic.php(7): require_once('/var/www/yii-1....')
#14 /var/www/comments/protected/yiic(4): require_once('/var/www/commen...')
#15 {main}
---
2015/01/23 19:03:43 [error] [exception.CDbException] exception 'CDbException' with message 'CDbConnection failed to open the DB connection: SQLSTATE[28000] [1045] Access denied for user 'root'@'localhost' (using password: YES)' in /var/www/yii-1.1.16.bca042/framework/db/CDbConnection.php:399
Stack trace:
#0 /var/www/yii-1.1.16.bca042/framework/db/CDbConnection.php(347): CDbConnection->open()
#1 /var/www/yii-1.1.16.bca042/framework/db/CDbConnection.php(325): CDbConnection->setActive(true)
#2 /var/www/yii-1.1.16.bca042/framework/base/CModule.php(394): CDbConnection->init()
#3 /var/www/yii-1.1.16.bca042/framework/cli/commands/MigrateCommand.php(472): CModule->getComponent('db')
#4 /var/www/yii-1.1.16.bca042/framework/cli/commands/MigrateCommand.php(481): MigrateCommand->getDbConnection()
#5 /var/www/yii-1.1.16.bca042/framework/cli/commands/MigrateCommand.php(512): MigrateCommand->getMigrationHistory(-1)
#6 /var/www/yii-1.1.16.bca042/framework/cli/commands/MigrateCommand.php(84): MigrateCommand->getNewMigrations()
#7 [internal function]: MigrateCommand->actionUp(Array)
#8 /var/www/yii-1.1.16.bca042/framework/console/CConsoleCommand.php(172): ReflectionMethod->invokeArgs(Object(MigrateCommand), Array)
#9 /var/www/yii-1.1.16.bca042/framework/console/CConsoleCommandRunner.php(71): CConsoleCommand->run(Array)
#10 /var/www/yii-1.1.16.bca042/framework/console/CConsoleApplication.php(92): CConsoleCommandRunner->run(Array)
#11 /var/www/yii-1.1.16.bca042/framework/base/CApplication.php(184): CConsoleApplication->processRequest()
#12 /var/www/yii-1.1.16.bca042/framework/yiic.php(33): CApplication->run()
#13 /var/www/comments/protected/yiic.php(7): require_once('/var/www/yii-1....')
#14 /var/www/comments/protected/yiic(4): require_once('/var/www/commen...')
#15 {main}
---
2015/01/23 19:03:49 [error] [system.db.CDbCommand] CDbCommand::fetchAll() failed: SQLSTATE[42S02]: Base table or view not found: 1146 Table 'comments.tbl_migration' doesn't exist. The SQL statement executed was: SHOW FULL COLUMNS FROM `tbl_migration`.
2015/01/23 19:04:29 [error] [php] include(Schema.php): failed to open stream: No such file or directory (/var/www/yii-1.1.16.bca042/framework/YiiBase.php:432)
Stack trace:
#0 /var/www/comments/protected/migrations/m150123_165629_addCommentsTable.php(9): spl_autoload_call()
#1 /var/www/yii-1.1.16.bca042/framework/db/CDbMigration.php(53): m150123_165629_addCommentsTable->safeUp()
#2 /var/www/yii-1.1.16.bca042/framework/cli/commands/MigrateCommand.php(415): m150123_165629_addCommentsTable->up()
#3 /var/www/yii-1.1.16.bca042/framework/cli/commands/MigrateCommand.php(109): MigrateCommand->migrateUp()
#4 unknown(0): MigrateCommand->actionUp()
#5 /var/www/yii-1.1.16.bca042/framework/console/CConsoleCommand.php(172): ReflectionMethod->invokeArgs()
#6 /var/www/yii-1.1.16.bca042/framework/console/CConsoleCommandRunner.php(71): MigrateCommand->run()
#7 /var/www/yii-1.1.16.bca042/framework/console/CConsoleApplication.php(92): CConsoleCommandRunner->run()
#8 /var/www/yii-1.1.16.bca042/framework/base/CApplication.php(184): CConsoleApplication->processRequest()
#9 /var/www/yii-1.1.16.bca042/framework/yiic.php(33): CConsoleApplication->run()
#10 /var/www/comments/protected/yiic.php(7): require_once()
#11 /var/www/comments/protected/yiic(4): require_once()

2015/01/23 20:03:57 [error] [system.db.CDbCommand] CDbCommand::execute() failed: SQLSTATE[23000]: Integrity constraint violation: 1062 Duplicate entry '1' for key 'PRIMARY'. The SQL statement executed was: INSERT INTO `comments` (`id`, `parent_id`, `content`) VALUES (:id, :parent_id, :content).
2015/01/23 20:05:30 [error] [system.db.CDbCommand] CDbCommand::execute() failed: SQLSTATE[42S01]: Base table or view already exists: 1050 Table 'comments' already exists. The SQL statement executed was: CREATE TABLE `comments` (
	`id` int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	`content` varchar(255),
	`parent_id` int(11)
).
2015/01/23 20:07:20 [error] [system.db.CDbCommand] CDbCommand::execute() failed: SQLSTATE[42S01]: Base table or view already exists: 1050 Table 'comments' already exists. The SQL statement executed was: CREATE TABLE `comments` (
	`id` int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	`content` varchar(255),
	`parent_id` int(11)
).
2015/01/23 20:08:12 [error] [system.db.CDbCommand] CDbCommand::execute() failed: SQLSTATE[42S01]: Base table or view already exists: 1050 Table 'comments' already exists. The SQL statement executed was: CREATE TABLE `comments` (
	`id` int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	`content` varchar(255),
	`parent_id` int(11)
).
2015/01/23 20:09:14 [error] [system.db.CDbCommand] CDbCommand::execute() failed: SQLSTATE[42S01]: Base table or view already exists: 1050 Table 'comments' already exists. The SQL statement executed was: CREATE TABLE `comments` (
	`id` int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	`content` varchar(255),
	`parent_id` int(11)
).
2015/01/23 20:09:50 [error] [system.db.CDbCommand] CDbCommand::execute() failed: SQLSTATE[42S01]: Base table or view already exists: 1050 Table 'comments' already exists. The SQL statement executed was: CREATE TABLE `comments` (
	`id` int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	`content` varchar(255),
	`parent_id` int(11)
).
2015/01/23 20:10:39 [error] [system.db.CDbCommand] CDbCommand::execute() failed: SQLSTATE[42S01]: Base table or view already exists: 1050 Table 'comments' already exists. The SQL statement executed was: CREATE TABLE `comments` (
	`id` int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	`content` varchar(255),
	`parent_id` int(11)
).
2015/01/23 20:22:36 [error] [system.db.CDbCommand] CDbCommand::execute() failed: SQLSTATE[23000]: Integrity constraint violation: 1062 Duplicate entry '1' for key 'PRIMARY'. The SQL statement executed was: INSERT INTO `comments` (`id`, `parent_id`, `content`) VALUES (:id, :parent_id, :content).
2015/01/23 20:22:45 [error] [system.db.CDbCommand] CDbCommand::execute() failed: SQLSTATE[23000]: Integrity constraint violation: 1062 Duplicate entry '1' for key 'PRIMARY'. The SQL statement executed was: INSERT INTO `comments` (`id`, `parent_id`, `content`) VALUES (:id, :parent_id, :content).
2015/01/23 20:23:15 [error] [system.db.CDbCommand] CDbCommand::execute() failed: SQLSTATE[23000]: Integrity constraint violation: 1062 Duplicate entry '1' for key 'PRIMARY'. The SQL statement executed was: INSERT INTO `comments` (`id`, `parent_id`, `content`) VALUES (:id, :parent_id, :content).
2015/01/23 20:23:42 [error] [system.db.CDbCommand] CDbCommand::execute() failed: SQLSTATE[42S02]: Base table or view not found: 1146 Table 'comments.comments' doesn't exist. The SQL statement executed was: INSERT INTO `comments` (`id`, `parent_id`, `content`) VALUES (:id, :parent_id, :content).
2015/01/25 23:58:44 [error] [system.db.CDbCommand] CDbCommand::execute() failed: SQLSTATE[23000]: Integrity constraint violation: 1062 Duplicate entry '1' for key 'PRIMARY'. The SQL statement executed was: INSERT INTO `comments` (`id`, `parent_id`, `content`) VALUES (:id, :parent_id, :content).
2015/01/25 23:58:49 [error] [system.db.CDbCommand] CDbCommand::execute() failed: SQLSTATE[42S01]: Base table or view already exists: 1050 Table 'comments' already exists. The SQL statement executed was: CREATE TABLE `comments` (
	`id` int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	`content` varchar(255),
	`parent_id` int(11) DEFAULT 0,
	`root_id` int(11) DEFAULT 0
).
2015/01/25 23:58:52 [error] [system.db.CDbCommand] CDbCommand::execute() failed: SQLSTATE[42S01]: Base table or view already exists: 1050 Table 'comments' already exists. The SQL statement executed was: CREATE TABLE `comments` (
	`id` int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	`content` varchar(255),
	`parent_id` int(11) DEFAULT 0,
	`root_id` int(11) DEFAULT 0
).
2015/01/25 23:59:10 [error] [system.db.CDbCommand] CDbCommand::execute() failed: SQLSTATE[42S01]: Base table or view already exists: 1050 Table 'comments' already exists. The SQL statement executed was: CREATE TABLE `comments` (
	`id` int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	`content` varchar(255),
	`parent_id` int(11) DEFAULT 0,
	`root_id` int(11) DEFAULT 0
).
2015/01/25 23:59:43 [error] [system.db.CDbCommand] CDbCommand::execute() failed: SQLSTATE[23000]: Integrity constraint violation: 1062 Duplicate entry '1' for key 'PRIMARY'. The SQL statement executed was: INSERT INTO `comments` (`id`, `parent_id`, `content`) VALUES (:id, :parent_id, :content).
2015/01/26 00:00:11 [error] [system.db.CDbCommand] CDbCommand::execute() failed: SQLSTATE[42S01]: Base table or view already exists: 1050 Table 'comments' already exists. The SQL statement executed was: CREATE TABLE `comments` (
	`id` int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	`content` varchar(255),
	`parent_id` int(11) DEFAULT 0,
	`root_id` int(11) DEFAULT 0
).
2015/01/26 00:00:12 [error] [system.db.CDbCommand] CDbCommand::execute() failed: SQLSTATE[42S01]: Base table or view already exists: 1050 Table 'comments' already exists. The SQL statement executed was: CREATE TABLE `comments` (
	`id` int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	`content` varchar(255),
	`parent_id` int(11) DEFAULT 0,
	`root_id` int(11) DEFAULT 0
).
2015/01/26 00:00:13 [error] [system.db.CDbCommand] CDbCommand::execute() failed: SQLSTATE[42S01]: Base table or view already exists: 1050 Table 'comments' already exists. The SQL statement executed was: CREATE TABLE `comments` (
	`id` int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	`content` varchar(255),
	`parent_id` int(11) DEFAULT 0,
	`root_id` int(11) DEFAULT 0
).
2015/01/26 00:00:14 [error] [system.db.CDbCommand] CDbCommand::execute() failed: SQLSTATE[42S01]: Base table or view already exists: 1050 Table 'comments' already exists. The SQL statement executed was: CREATE TABLE `comments` (
	`id` int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	`content` varchar(255),
	`parent_id` int(11) DEFAULT 0,
	`root_id` int(11) DEFAULT 0
).
2015/01/26 00:00:15 [error] [system.db.CDbCommand] CDbCommand::execute() failed: SQLSTATE[42S01]: Base table or view already exists: 1050 Table 'comments' already exists. The SQL statement executed was: CREATE TABLE `comments` (
	`id` int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	`content` varchar(255),
	`parent_id` int(11) DEFAULT 0,
	`root_id` int(11) DEFAULT 0
).
2015/01/26 00:00:17 [error] [system.db.CDbCommand] CDbCommand::execute() failed: SQLSTATE[42S01]: Base table or view already exists: 1050 Table 'comments' already exists. The SQL statement executed was: CREATE TABLE `comments` (
	`id` int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	`content` varchar(255),
	`parent_id` int(11) DEFAULT 0,
	`root_id` int(11) DEFAULT 0
).
2015/01/26 00:00:55 [error] [system.db.CDbCommand] CDbCommand::execute() failed: SQLSTATE[23000]: Integrity constraint violation: 1062 Duplicate entry '1' for key 'PRIMARY'. The SQL statement executed was: INSERT INTO `comments` (`id`, `parent_id`, `content`) VALUES (:id, :parent_id, :content).
2015/01/26 00:01:19 [error] [system.db.CDbCommand] CDbCommand::execute() failed: SQLSTATE[23000]: Integrity constraint violation: 1062 Duplicate entry '1' for key 'PRIMARY'. The SQL statement executed was: INSERT INTO `comments` (`id`, `parent_id`, `content`) VALUES (:id, :parent_id, :content).
2015/01/26 00:01:58 [error] [system.db.CDbCommand] CDbCommand::execute() failed: SQLSTATE[23000]: Integrity constraint violation: 1062 Duplicate entry '1' for key 'PRIMARY'. The SQL statement executed was: INSERT INTO `comments` (`id`, `parent_id`, `content`) VALUES (:id, :parent_id, :content).
2015/01/26 00:03:07 [error] [system.db.CDbCommand] CDbCommand::execute() failed: SQLSTATE[42S02]: Base table or view not found: 1051 Unknown table 'comments'. The SQL statement executed was: DROP TABLE `comments`.
2015/01/26 00:06:24 [error] [php] Undefined variable: r (/var/www/comments/protected/migrations/m150123_165629_addCommentsTable.php:42)
Stack trace:
#0 /var/www/yii-1.1.16.bca042/framework/cli/commands/MigrateCommand.php(109): MigrateCommand->migrateUp()
#1 unknown(0): MigrateCommand->actionUp()
#2 /var/www/yii-1.1.16.bca042/framework/console/CConsoleCommand.php(172): ReflectionMethod->invokeArgs()
#3 /var/www/yii-1.1.16.bca042/framework/console/CConsoleCommandRunner.php(71): MigrateCommand->run()
#4 /var/www/yii-1.1.16.bca042/framework/console/CConsoleApplication.php(92): CConsoleCommandRunner->run()
#5 /var/www/yii-1.1.16.bca042/framework/base/CApplication.php(184): CConsoleApplication->processRequest()
#6 /var/www/yii-1.1.16.bca042/framework/yiic.php(33): CConsoleApplication->run()
#7 /var/www/comments/protected/yiic.php(7): require_once()
#8 /var/www/comments/protected/yiic(4): require_once()

2015/01/26 00:06:53 [error] [system.db.CDbCommand] CDbCommand::execute() failed: SQLSTATE[42S01]: Base table or view already exists: 1050 Table 'comments' already exists. The SQL statement executed was: CREATE TABLE `comments` (
	`id` int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	`content` varchar(255),
	`parent_id` int(11) DEFAULT 0,
	`root_id` int(11) DEFAULT 0
).
2015/01/26 00:07:09 [error] [system.db.CDbCommand] CDbCommand::execute() failed: SQLSTATE[42S01]: Base table or view already exists: 1050 Table 'comments' already exists. The SQL statement executed was: CREATE TABLE `comments` (
	`id` int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	`content` varchar(255),
	`parent_id` int(11) DEFAULT 0,
	`root_id` int(11) DEFAULT 0
).
2015/02/07 09:24:09 [error] [system.db.CDbCommand] CDbCommand::execute() failed: SQLSTATE[42000]: Syntax error or access violation: 1067 Invalid default value for 'root_id'. The SQL statement executed was: CREATE TABLE `comments` (
	`id` int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	`content` varchar(255),
	`parent_id` int(11) DEFAULT 0,
	`root_id` timestamp DEFAULT NULL
).
